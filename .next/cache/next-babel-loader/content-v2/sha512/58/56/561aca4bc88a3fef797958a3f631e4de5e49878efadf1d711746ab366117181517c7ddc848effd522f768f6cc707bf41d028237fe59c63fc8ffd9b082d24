{"ast":null,"code":"import _taggedTemplateLiteral from \"C:/Users/Wait for magic/Documents/GitHub/whatsapp-clone-with-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"C:/Users/Wait for magic/Documents/GitHub/whatsapp-clone-with-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Wait for magic/Documents/GitHub/whatsapp-clone-with-nextjs/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Wait for magic\\\\Documents\\\\GitHub\\\\whatsapp-clone-with-nextjs\\\\components\\\\ChatScreen.js\",\n    _s = $RefreshSig$();\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Avatar, IconButton } from '@material-ui/core';\nimport { useRouter } from 'next/router';\nimport React from 'react';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport styled from 'styled-components';\nimport { auth, db } from '../firebase';\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { useCollection } from 'react-firebase-hooks/firestore';\nimport Message from './Message';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport MicIcon from '@material-ui/icons/Mic';\n\nfunction ChatScreen(_ref) {\n  _s();\n\n  var _this = this;\n\n  var chat = _ref.chat,\n      messages = _ref.messages;\n\n  var _useAuthState = useAuthState(auth),\n      _useAuthState2 = _slicedToArray(_useAuthState, 1),\n      user = _useAuthState2[0];\n\n  var router = useRouter();\n\n  var _useCollection = useCollection(db.collection('chats').doc(router.query.id).collection(\"messages\").orderBy(\"timestamp\", \"asc\")),\n      _useCollection2 = _slicedToArray(_useCollection, 1),\n      messagesSnapshot = _useCollection2[0];\n\n  var showMessage = function showMessage() {\n    return messagesSnapshot.docs.map(function (message) {\n      /*#__PURE__*/\n      _jsxDEV(Message, {\n        user: message.data().user,\n        message: _objectSpread(_objectSpread({}, message.data()), {}, {\n          timestamp: message.data().timestamp.getTime()\n        })\n      }, message.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }, _this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HeaderInformation, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \" RecipientEmail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Last Seen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(HeaderIcons, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          children: [/*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MessageContainer, {\n      children: showMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputContainer, {\n      children: [/*#__PURE__*/_jsxDEV(InsertEmoticonIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ChatScreen, \"Xttu0CVK9AsWP6faDZXYiPSu984=\", false, function () {\n  return [useAuthState, useRouter, useCollection];\n});\n\n_c = ChatScreen;\nexport default ChatScreen;\nvar Container = styled.div.attrs({\n  className: \"h-screen\"\n})(_templateObject());\n_c2 = Container;\nvar Header = styled.div.attrs({\n  className: \"position-sticky bg-white z-100 top-0 flex p-2 h-16 items-center border-b-2 border-gray-200\"\n})(_templateObject2());\n_c3 = Header;\nvar HeaderInformation = styled.div.attrs({\n  className: \"m-2 flex-1\"\n})(_templateObject3());\n_c4 = HeaderInformation;\nvar HeaderIcons = styled.div.attrs({})(_templateObject4());\n_c5 = HeaderIcons;\nvar MessageContainer = styled.div.attrs({})(_templateObject5());\n_c6 = MessageContainer;\nvar InputContainer = styled.div.attrs({\n  className: \"flex items-center p-3 sticky bottom-0 bg-white z-50\"\n})(_templateObject6());\n_c7 = InputContainer;\nvar Input = styled.input.attrs({\n  className: \"flex-1 outline-none border-none rounded-xl bg-gray-50 p-2 ml-4 mr-4\"\n})(_templateObject7());\n_c8 = Input;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"ChatScreen\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Header\");\n$RefreshReg$(_c4, \"HeaderInformation\");\n$RefreshReg$(_c5, \"HeaderIcons\");\n$RefreshReg$(_c6, \"MessageContainer\");\n$RefreshReg$(_c7, \"InputContainer\");\n$RefreshReg$(_c8, \"Input\");","map":{"version":3,"sources":["C:/Users/Wait for magic/Documents/GitHub/whatsapp-clone-with-nextjs/components/ChatScreen.js"],"names":["Avatar","IconButton","useRouter","React","useAuthState","styled","auth","db","AttachFileIcon","MoreVertIcon","useCollection","Message","InsertEmoticonIcon","MicIcon","ChatScreen","chat","messages","user","router","collection","doc","query","id","orderBy","messagesSnapshot","showMessage","docs","map","message","data","timestamp","getTime","Container","div","attrs","className","Header","HeaderInformation","HeaderIcons","MessageContainer","InputContainer","Input","input"],"mappings":"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","sourcesContent":["import { Avatar, IconButton } from '@material-ui/core'\r\nimport { useRouter } from 'next/router'\r\nimport React from 'react'\r\nimport { useAuthState } from 'react-firebase-hooks/auth'\r\nimport styled from 'styled-components'\r\nimport { auth, db } from '../firebase'\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile'\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\nimport { useCollection } from 'react-firebase-hooks/firestore'\r\nimport Message from './Message'\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon'\r\nimport MicIcon from '@material-ui/icons/Mic'\r\nfunction ChatScreen({chat, messages} ) {\r\n    const [user]=useAuthState(auth)\r\n    const router = useRouter();\r\n    const [messagesSnapshot]=useCollection(db.collection('chats').doc(router.query.id).collection(\"messages\").orderBy(\"timestamp\", \"asc\"))\r\n    const showMessage = () => {\r\n        return messagesSnapshot.docs.map((message) => {\r\n            <Message key={message.id} user={message.data().user}\r\n                message={{\r\n                    ...message.data(),\r\n                    timestamp:message.data().timestamp.getTime()\r\n            }}\r\n            />\r\n        })\r\n    }\r\n    return (\r\n        <Container>\r\n            <Header>\r\n                <Avatar />\r\n                <HeaderInformation>\r\n                    <h3> RecipientEmail</h3>\r\n                    <p>Last Seen</p>\r\n                </HeaderInformation>\r\n                <HeaderIcons>\r\n                    <IconButton>\r\n                        <AttachFileIcon />\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </HeaderIcons>\r\n            </Header>\r\n            <MessageContainer>\r\n                {showMessage}\r\n                {/* <EndOfMessage/> */}\r\n            </MessageContainer>\r\n            <InputContainer>\r\n                <InsertEmoticonIcon />\r\n                <Input />\r\n                <MicIcon/>\r\n            </InputContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ChatScreen\r\n\r\nconst Container = styled.div.attrs({\r\n    className:\"h-screen\"\r\n})``;\r\n\r\nconst Header = styled.div.attrs({\r\n    className:\"position-sticky bg-white z-100 top-0 flex p-2 h-16 items-center border-b-2 border-gray-200\"\r\n})``\r\nconst HeaderInformation = styled.div.attrs({\r\nclassName:\"m-2 flex-1\" \r\n})``;\r\nconst HeaderIcons = styled.div.attrs({})``;\r\nconst MessageContainer = styled.div.attrs({})``;\r\nconst InputContainer = styled.div.attrs({\r\n\r\n     className:\"flex items-center p-3 sticky bottom-0 bg-white z-50\",\r\n})``;\r\nconst Input = styled.input.attrs({\r\n    className:\"flex-1 outline-none border-none rounded-xl bg-gray-50 p-2 ml-4 mr-4\",\r\n})``;\r\n"]},"metadata":{},"sourceType":"module"}